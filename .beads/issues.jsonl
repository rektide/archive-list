{"id":"archive-list-027","title":"Verify backward compatibility with existing URLs","description":"Test that archive-list can process URLs from existing archlist files.\n\n**Test coverage:**\n- URLs from actual archlist (real user data)\n- Various GitHub URL formats (with .git, different branches if supported)\n- GitLab.com URLs\n- HuggingFace model URLs\n- Codeberg repository URLs\n\n**Verify:**\n1. ProviderFactory extracts domain correctly from all URL formats\n2. Strategy discovery finds working approach for each provider\n3. README content is downloaded successfully\n4. Error handling works for invalid URLs or missing READMEs\n\nRun a subset of actual archlist URLs to ensure migration from old providers didn't break anything.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T03:52:20.007119914-05:00","created_by":"rektide","updated_at":"2026-01-13T04:16:08.097710392-05:00","closed_at":"2026-01-13T04:16:08.097710392-05:00","close_reason":"Closed via update"}
{"id":"archive-list-03j","title":"Reset logic and timezone handling","description":"Implement reset timestamp parsing and timezone-aware reset behavior.\n\nTasks:\n- Parse reset timestamps from headers (Unix epoch or ISO 8601)\n- Convert to UTC timezone (handle non-Z timezones)\n- Implement reset check: if now \u003e reset_at, reset remaining to limit\n- Store reset_at per-token if provider supports per-token resets\n- Handle different timestamp formats per provider\n\nUsing chrono for robust timezone handling.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-12T23:29:43.595854928-05:00","created_by":"rektide","updated_at":"2026-01-12T23:29:43.595854928-05:00","dependencies":[{"issue_id":"archive-list-03j","depends_on_id":"archive-list-ymc","type":"blocks","created_at":"2026-01-12T23:29:54.809804467-05:00","created_by":"rektide"}]}
{"id":"archive-list-04x","title":"Add logging for strategy discovery attempts","description":"Add debug logging to Provider's strategy discovery algorithm.\n\n**Add logs for:**\n- When trying cached strategy (working_strategy hit/miss)\n- When falling back to trying all strategies\n- Each strategy attempt with strategy name and URL\n- Strategy success (which one worked)\n- Strategy failure with error reason\n\n**Location:**\nsrc/provider/generic.rs in Provider::get_readme_url()\n\nUse log::debug! for detailed strategy discovery information to help debug provider behavior across different domains.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T03:52:07.381212435-05:00","created_by":"rektide","updated_at":"2026-01-13T04:39:09.638847243-05:00","closed_at":"2026-01-13T04:39:09.638847243-05:00","close_reason":"Closed via update"}
{"id":"archive-list-0c7","title":"Implement rate interval subsystem","description":"Implement rate interval subsystem using governor with 1.5x velocity and 2s time-base","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:33.493971016-05:00","created_by":"rektide","updated_at":"2026-01-12T22:04:13.419231401-05:00","closed_at":"2026-01-12T22:04:13.419231401-05:00","close_reason":"Completed"}
{"id":"archive-list-113","title":"Lazy strategy discovery and caching","description":"Implement lazy strategy discovery with fallback and retry logic.\n\nTasks:\n- Implement strategy discovery algorithm: try each strategy in order\n- Cache working strategy in Provider for subsequent calls\n- Add strategy retry: clear cached strategy if it fails, try remaining\n- Add logging for strategy discovery attempts and results\n- Handle strategy-specific errors appropriately\n- Implement strategy cloning for caching","notes":"Implementation notes:\\n- Strategy discovery algorithm implemented in src/provider/generic.rs: Provider::get_readme_url()\\n- Working strategy cached in Provider.working_strategy (Arc\u003cRwLock\u003cOption\u003cBox\u003cdyn Strategy\u003e\u003e\u003e\u003e)\\n- Strategy retry logic: cached strategy tried first, if fails, tries remaining strategies\\n- Strategy cloning for caching implemented via clone_box() method on Strategy trait\\n- Logging not yet added for strategy discovery attempts and results\\n- Strategy-specific error handling: uses try strategies loop, errors are caught and cause fallback to next strategy","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T23:41:58.37484936-05:00","created_by":"rektide","updated_at":"2026-01-13T03:51:55.948417111-05:00","closed_at":"2026-01-13T03:51:55.948417111-05:00","close_reason":"Closed via update","dependencies":[{"issue_id":"archive-list-113","depends_on_id":"archive-list-bv2","type":"blocks","created_at":"2026-01-12T23:42:09.849303653-05:00","created_by":"rektide"}]}
{"id":"archive-list-1vi","title":"Test two-tier rate limiting","description":"Verify rate limiting behavior works correctly.\n\nTests:\n- Verify round-robin rotation works with multiple tokens\n- Test rate limit handling across reset boundaries\n- Test error scenarios (invalid tokens, exhausted tokens)\n- Test governor prevents burst behavior after reset\n- Test header decoder normalizes headers correctly\n- Run cargo clippy and fix all warnings","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T23:29:46.120865241-05:00","created_by":"rektide","updated_at":"2026-01-12T23:29:46.120865241-05:00","dependencies":[{"issue_id":"archive-list-1vi","depends_on_id":"archive-list-ymc","type":"blocks","created_at":"2026-01-12T23:29:54.842141872-05:00","created_by":"rektide"}]}
{"id":"archive-list-2fx","title":"Implement GitHub provider","description":"Implement GitHub provider with async detection and rate limit header parsing","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:56.86129881-05:00","created_by":"rektide","updated_at":"2026-01-12T22:09:32.037146287-05:00","closed_at":"2026-01-12T22:09:32.037146287-05:00","close_reason":"Completed"}
{"id":"archive-list-2gh","title":"Define Provider trait","description":"Define Provider trait with async detect() method and rate limiters. Basic trait exists but needs detect() method for URL provider detection.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:56.419470368-05:00","created_by":"rektide","updated_at":"2026-01-12T22:08:25.918993764-05:00","closed_at":"2026-01-12T22:08:25.918993764-05:00","close_reason":"Completed"}
{"id":"archive-list-3j7","title":"Token management: loading, validation, and selection","description":"Implement token lifecycle management for rate limiting.\n\nTasks:\n- Load tokens from environment variables (comma-separated)\n- Implement token validation via lightweight API call\n- Parse rate limit headers from validation response\n- Implement round-robin token selection (skip invalid/exhausted tokens)\n- Handle revalidation when all tokens exhausted\n\nEnvironment variables: GITHUB_TOKEN, GITLAB_TOKEN, HUGGINGFACE_TOKEN, CODEBERG_TOKEN","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-12T23:29:36.268666585-05:00","created_by":"rektide","updated_at":"2026-01-12T23:29:36.268666585-05:00","dependencies":[{"issue_id":"archive-list-3j7","depends_on_id":"archive-list-ymc","type":"blocks","created_at":"2026-01-12T23:29:54.74581867-05:00","created_by":"rektide"}]}
{"id":"archive-list-3n2","title":"Implement reverse buffer reader","description":"Implement reverse file reader with 4k-aligned buffer reads from file end, tracking lines read from bottom. Already implemented in util/reader.rs with 4096-byte chunk size and proper handling of incomplete first buffer.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:31.485482327-05:00","created_by":"rektide","updated_at":"2026-01-12T22:01:05.696654263-05:00","closed_at":"2026-01-12T22:01:05.696654263-05:00","close_reason":"Completed"}
{"id":"archive-list-49a","title":"Setup Cargo.toml dependencies","description":"Initialize Cargo.toml with clap, clap_complete, tokio, anyhow, reqwest, governor, config, directories crates","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:23.077311134-05:00","created_by":"rektide","updated_at":"2026-01-12T21:53:36.374434034-05:00","closed_at":"2026-01-12T21:53:36.374434034-05:00","close_reason":"Completed"}
{"id":"archive-list-4j5","title":"Add integration tests for common domains","description":"Add integration tests verifying generic provider works with known domains.\n\n**Test domains:**\n- github.com (ApiStrategy should work)\n- gitlab.com (ApiStrategy should work)  \n- huggingface.co (strategy discovery should find working approach)\n- codeberg.org (ApiStrategy should work)\n\n**Test scenarios:**\n1. ProviderFactory creates provider for each domain\n2. Strategy discovery successfully finds working strategy\n3. get_readme_url returns valid URL for known repos\n4. Working strategy is cached and reused\n5. Token loading from environment variables works\n\n**Invalid domain handling:**\n- Unknown domain returns error from ProviderFactory\n- Strategy discovery fails gracefully when no strategies work\n\nUse test repos that exist and have README.md files.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T03:52:15.610863823-05:00","created_by":"rektide","updated_at":"2026-01-13T03:52:15.610863823-05:00"}
{"id":"archive-list-4np","title":"Core provider infrastructure","description":"Create core data structures and strategy trait for generic provider system.\n\nTasks:\n- Create Strategy trait with: name(), get_readme_url(), get_url()\n- Implement basic strategies: ApiStrategy, RawGitStrategy, HtmlScrapeStrategy\n- Create DomainConfig struct with: env_var, api_pattern, rate_limit_headers\n- Create Provider struct (not GenericProvider) with: domain, rate_limiter, strategies, working_strategy\n- Create ProviderFactory with hardcoded domains (GitHub, GitLab, HuggingFace)\n- Define RateLimitHeaders and TimestampFormat for domain config","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T23:41:56.293915911-05:00","created_by":"rektide","updated_at":"2026-01-13T02:59:29.666856908-05:00","closed_at":"2026-01-13T02:59:29.666856908-05:00","close_reason":"Closed via update","dependencies":[{"issue_id":"archive-list-4np","depends_on_id":"archive-list-bv2","type":"blocks","created_at":"2026-01-12T23:42:09.391206849-05:00","created_by":"rektide"}],"comments":[{"id":1,"issue_id":"archive-list-4np","author":"rektide","text":"Created core infrastructure files:\n- src/provider/strategy.rs - Strategy trait with ApiStrategy, RawGitStrategy, HtmlScrapeStrategy\n- src/provider/domain.rs - DomainConfig, RateLimitHeaders, TimestampFormat, get_domain_configs()\n- src/provider/generic.rs - Provider struct with strategy discovery\n- src/provider/factory.rs - ProviderFactory for provider creation and caching\n\nHowever, there are compilation issues:\n1. Strategy trait object-safety issues (Clone + Self: Sized)\n2. Complex lifetime handling with async_trait\n3. Integration complexity with existing ProviderTrait vs new Provider\n\nRecommendation: This needs a full refactor session to properly integrate the new generic provider system. The old providers and new system should not coexist - either fully replace or properly integrate them.","created_at":"2026-01-13T05:09:41Z"}]}
{"id":"archive-list-5wq","title":"Implement failure logging","description":"Create failure logging to .fail file with URL and error code format. Already implemented in failure.rs with format: \"\u003cURL\u003e \u003cERROR-CODE\u003e\"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:32.887498543-05:00","created_by":"rektide","updated_at":"2026-01-12T22:03:48.608065379-05:00","closed_at":"2026-01-12T22:03:48.608065379-05:00","close_reason":"Completed"}
{"id":"archive-list-69o","title":"Fast rate limiting with governor","description":"Implement per-second rate limiting to spread load across reset interval.\n\nTasks:\n- Configure governor RateLimiter per provider with velocity multiplier\n- Velocity allows faster-than-realtime rate (e.g., 1.5x) until API limit hit\n- Prevents burst behavior when reset occurs\n- Works in conjunction with header-based slow rate limiting\n\nThis is a two-tier system: governor (fast) + headers (slow).","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-12T23:29:37.658021025-05:00","created_by":"rektide","updated_at":"2026-01-12T23:29:37.658021025-05:00","dependencies":[{"issue_id":"archive-list-69o","depends_on_id":"archive-list-ymc","type":"blocks","created_at":"2026-01-12T23:29:54.761974808-05:00","created_by":"rektide"}]}
{"id":"archive-list-6lj","title":"Extensibility and custom domains","description":"Add extensibility features for custom domains and additional strategies.\n\nTasks:\n- Support custom domain configuration via environment variable (ARCHIVE_LIST_DOMAINS)\n- Add more strategies: GraphQLStrategy, ScrapeTreeStrategy\n- Add strategy prioritization (some strategies preferred over others)\n- Add metrics/tracking for strategy success rates\n- Add config file support for domain configuration (YAML/TOML)\n- Add provider mocking for testing with mock strategies","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-12T23:42:02.643243051-05:00","created_by":"rektide","updated_at":"2026-01-12T23:42:02.643243051-05:00","dependencies":[{"issue_id":"archive-list-6lj","depends_on_id":"archive-list-bv2","type":"blocks","created_at":"2026-01-12T23:42:10.314736002-05:00","created_by":"rektide"}]}
{"id":"archive-list-70y","title":"Implement basic CLI parsing","description":"Implement CLI entry point with clap derive parser for readme-get command. Already implemented in cli.rs with clap derive. Add completion generation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:30.896869781-05:00","created_by":"rektide","updated_at":"2026-01-12T22:00:26.36736961-05:00","closed_at":"2026-01-12T22:00:26.36736961-05:00","close_reason":"Completed"}
{"id":"archive-list-83k","title":"Implement GitLab provider","description":"Implement GitLab provider with async detection and rate limiting","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:57.31364463-05:00","created_by":"rektide","updated_at":"2026-01-12T22:11:26.973760602-05:00","closed_at":"2026-01-12T22:11:26.973760602-05:00","close_reason":"Completed"}
{"id":"archive-list-89r","title":"Core Utilities","description":"Implement core utility modules: position tracking, reverse buffer reader, failure logging","acceptance_criteria":"- src/util/mod.rs with exports\n- src/util/reader.rs with position tracking + 4k-aligned reverse buffer reader\n- src/failure.rs for .fail file logging\n- Async config position updates every 2s","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-12T21:33:52.677607023-05:00","created_by":"rektide","updated_at":"2026-01-12T22:21:27.339031329-05:00","closed_at":"2026-01-12T22:21:27.339031329-05:00","close_reason":"Completed"}
{"id":"archive-list-8ge","title":"Implement basic readme-get command","description":"Implement readme-get command to download READMEs maintaining URL directory structure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:58.811826488-05:00","created_by":"rektide","updated_at":"2026-01-12T22:15:45.01637476-05:00","closed_at":"2026-01-12T22:15:45.01637476-05:00","close_reason":"Completed"}
{"id":"archive-list-900","title":"Implement Codeberg provider","description":"Implement Codeberg provider with async detection and rate limiting","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:58.304740335-05:00","created_by":"rektide","updated_at":"2026-01-12T22:11:37.229696138-05:00","closed_at":"2026-01-12T22:11:37.229696138-05:00","close_reason":"Completed"}
{"id":"archive-list-9ii","title":"readme-get Command","description":"Implement the readme-get command to download READMEs from repos in archlist","acceptance_criteria":"- src/commands/readme_get.rs module\n- Processes archlist from bottom to top\n- Downloads READMEs maintaining URL structure\n- Creates directories for repos without README\n- Supports --top-down, --refresh flags","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-12T21:33:57.022383351-05:00","created_by":"rektide","updated_at":"2026-01-12T22:21:38.420635184-05:00","closed_at":"2026-01-12T22:21:38.420635184-05:00","close_reason":"Completed"}
{"id":"archive-list-9zo","title":"Rate Limiting","description":"Implement rate interval subsystem using governor crate with provider-specific limits","acceptance_criteria":"- src/util/ratelimit.rs module\n- Governor configured at 1.5x velocity, 2s time-base\n- is_ok() checks against provider rate limits\n- Stops when provider credits exhausted","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-12T21:33:53.906353633-05:00","created_by":"rektide","updated_at":"2026-01-12T22:21:38.015240922-05:00","closed_at":"2026-01-12T22:21:38.015240922-05:00","close_reason":"Completed"}
{"id":"archive-list-aky","title":"Integration with existing codebase","description":"Integration of generic provider system into existing codebase, replacing hardcoded provider implementations.\n\n**Completed:**\n- Deleted old provider files (github.rs, gitlab.rs, huggingface.rs, codeberg.rs)\n- Updated provider_selector.rs to use ProviderFactory with ProviderWrapper adapter\n- Code compiles and builds successfully\n- Basic integration works through ProviderWrapper compatibility layer\n\n**Remaining work (now in granular tickets):**\n- archive-list-8vl: Update readme_get.rs to use ProviderFactory directly\n- archive-list-4j5: Add integration tests for common domains\n- archive-list-027: Verify backward compatibility with existing URLs\n- archive-list-dfd: Clean up ProviderWrapper after direct integration\n- archive-list-04x: Add logging for strategy discovery attempts\n\n**Current state:**\nProviderFactory integration works but uses ProviderWrapper adapter. Once granular tickets complete, will have full direct integration with tests.","notes":"Implementation progress:\\n✓ Deleted old provider files (github.rs, gitlab.rs, huggingface.rs, codeberg.rs)\\n✓ Updated provider_selector.rs to use ProviderFactory with ProviderWrapper adapter\\n✓ Code compiles successfully\\n\\nRemaining work:\\n- Update readme_get.rs to directly use ProviderFactory instead of detect_provider wrapper\\n- Ensure backward compatibility for existing URLs (needs testing)\\n- Add integration tests for common domains (github.com, gitlab.com, huggingface.co, codeberg.org)\\n- Clean up ProviderWrapper once direct ProviderFactory integration is complete\\n\\nNotes:\\n- Current implementation uses ProviderWrapper as adapter to maintain compatibility with ProviderTrait\\n- ProviderFactory uses OnceCell for lazy singleton initialization\\n- Domain extraction via url::Url parsing in factory.extract_domain()\\n- Token loading from environment variables (GITHUB_TOKEN, GITLAB_TOKEN, etc.) via split(',')","status":"in_progress","priority":2,"issue_type":"feature","created_at":"2026-01-12T23:42:01.216594809-05:00","created_by":"rektide","updated_at":"2026-01-13T03:54:01.822203445-05:00","dependencies":[{"issue_id":"archive-list-aky","depends_on_id":"archive-list-bv2","type":"blocks","created_at":"2026-01-12T23:42:10.065295965-05:00","created_by":"rektide"}]}
{"id":"archive-list-b81","title":"ProviderFactory implementation","description":"Implement ProviderFactory for creating and caching providers.\n\nTasks:\n- ProviderFactory holds domain configuration map and provider cache\n- Implement domain extraction from URLs (parse URL, extract host)\n- Implement get_provider() method with caching (RwLock\u003cHashMap\u003e)\n- Wire up RateLimiter to Provider\n- Load tokens from domain config per domain\n- Configure rate limit headers per domain","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T23:41:57.406366851-05:00","created_by":"rektide","updated_at":"2026-01-13T02:59:39.894794956-05:00","closed_at":"2026-01-13T02:59:39.894794956-05:00","close_reason":"Closed via update","dependencies":[{"issue_id":"archive-list-b81","depends_on_id":"archive-list-bv2","type":"blocks","created_at":"2026-01-12T23:42:09.634500354-05:00","created_by":"rektide"}],"comments":[{"id":2,"issue_id":"archive-list-b81","author":"rektide","text":"Created ProviderFactory with domain extraction and provider caching. Needs integration with ProviderTrait from new system. Current structure has separate ProviderTrait and Provider structs which need to be reconciled.","created_at":"2026-01-13T05:09:43Z"}]}
{"id":"archive-list-bbe","title":"Implement config management","description":"Implement config file management using directories crate to locate config and config crate to parse. Already implemented in config.rs with ProjectDirs, ConfigBuilder, and serde.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:36:00.062917775-05:00","created_by":"rektide","updated_at":"2026-01-12T22:16:37.565150608-05:00","closed_at":"2026-01-12T22:16:37.565150608-05:00","close_reason":"Completed"}
{"id":"archive-list-bv2","title":"Generic provider with strategy pattern","description":"Replace hardcoded GitHub/GitLab/HuggingFace/Codeberg providers with a unified generic provider system using strategy pattern.\n\n**Why:**\n- Old providers had duplicated logic across 4 separate implementations\n- Adding new providers or domains required creating new structs\n- No way to try multiple fetching strategies per provider\n- Rate limiting was inconsistent across providers\n\n**Solution:**\nSingle `Provider` struct works for any domain via:\n- **Strategy pattern**: Pluggable README fetching techniques (API, raw Git, HTML scrape)\n- **Factory pattern**: ProviderFactory creates and caches providers per domain\n- **Lazy discovery**: Try strategies until one works, cache the winner for speed\n- **Domain config**: Map domains to env vars and rate limit headers\n\n**Flow:**\n1. `ProviderFactory.get_provider(url)` extracts domain from URL\n2. Factory checks cache, creates Provider if needed (with strategy list)\n3. Provider tries cached strategy first, falls back to trying all strategies\n4. Strategy converts repo URL to README URL (API pattern, raw Git path, etc.)\n5. Fetch returns content, working strategy cached for next call\n\n**Built components:**\n- Strategy trait + 3 implementations (ApiStrategy, RawGitStrategy, HtmlScrapeStrategy)\n- DomainConfig with env_var mapping and rate limit header definitions\n- ProviderFactory with thread-safe caching (RwLock\u003cHashMap\u003e)\n- Provider with lazy strategy discovery and working strategy cache\n- Domain extraction via url::Url, token loading from env vars\n- Deleted 4 hardcoded provider files\n\nADR: doc/adr/0002-generic-provider-with-strategy-pattern.md","notes":"Implementation progress (2026-01-13):\n\nCompleted:\n- Created ADR 0002: doc/adr/0002-generic-provider-with-strategy-pattern.md\n- Implemented Strategy trait with async_trait for get_readme_url() and get_url()\n- Implemented three basic strategies: ApiStrategy, RawGitStrategy, HtmlScrapeStrategy\n- Created DomainConfig struct mapping domains to env vars and rate limit headers\n- Created Provider struct with lazy strategy discovery and caching (working_strategy)\n- Implemented ProviderFactory with domain config map and RwLock\u003cHashMap\u003e caching\n- Implemented create_strategies() to build strategy list from domain config\n- Deleted old hardcoded provider files (github.rs, gitlab.rs, huggingface.rs, codeberg.rs)\n- Integrated ProviderFactory into provider_selector.rs via ProviderWrapper adapter\n- Added extract_domain() using url::Url parsing for host extraction\n- Token loading from environment variables via split(',') for comma-separated lists\n- Round-robin token loading stub (get_best_token returns first token)\n- Header parsing utilities for rate limit tracking (parse_header, parse_reset_timestamp)\n\nTickets status:\n- archive-list-4np (Core infrastructure): CLOSED\n- archive-list-b81 (ProviderFactory): CLOSED\n- archive-list-113 (Lazy strategy discovery): OPEN (implemented, needs logging)\n- archive-list-aky (Integration): IN_PROGRESS (compiles, needs readme_get.rs update + tests)\n- archive-list-6lj (Extensibility): OPEN (future work)\n\nRemaining work:\n- Add logging for strategy discovery attempts\n- Update readme_get.rs to use ProviderFactory directly (bypass ProviderWrapper)\n- Add integration tests for all domains\n- Verify backward compatibility with existing URLs\n- Full two-tier rate limiting from ADR 0001 (header parsing logic, reset handling, token rotation with remaining tracking)","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-12T23:41:15.970016045-05:00","created_by":"rektide","updated_at":"2026-01-13T03:51:29.520047748-05:00","dependencies":[{"issue_id":"archive-list-bv2","depends_on_id":"archive-list-04x","type":"blocks","created_at":"2026-01-13T03:52:33.421354257-05:00","created_by":"rektide"},{"issue_id":"archive-list-bv2","depends_on_id":"archive-list-8vl","type":"blocks","created_at":"2026-01-13T03:52:33.86506458-05:00","created_by":"rektide"},{"issue_id":"archive-list-bv2","depends_on_id":"archive-list-4j5","type":"blocks","created_at":"2026-01-13T03:52:34.203766351-05:00","created_by":"rektide"},{"issue_id":"archive-list-bv2","depends_on_id":"archive-list-027","type":"blocks","created_at":"2026-01-13T03:52:34.759705014-05:00","created_by":"rektide"},{"issue_id":"archive-list-bv2","depends_on_id":"archive-list-dfd","type":"blocks","created_at":"2026-01-13T03:52:35.14890714-05:00","created_by":"rektide"}]}
{"id":"archive-list-byp","title":"Update all providers with rate limiting","description":"Integrate rate limiting into all provider implementations.\n\nTasks (shared across GitHub, GitLab, HuggingFace, Codeberg):\n- Implement fetch_url() method with rate limiter integration\n- Parse provider-specific rate limit headers using common decoder\n- Update remaining/limit/reset_at from response headers\n- Handle rate limit errors (403, 429) with sleep until reset\n- Add governor checks before making requests\n\nGitHub headers: x-ratelimit-remaining, x-ratelimit-limit, x-ratelimit-reset\nGitLab headers: RateLimit-Remaining, RateLimit-Limit, RateLimit-Reset\nHuggingFace headers: X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset\nCodeberg: same as GitLab","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-12T23:29:41.968135147-05:00","created_by":"rektide","updated_at":"2026-01-12T23:29:41.968135147-05:00","dependencies":[{"issue_id":"archive-list-byp","depends_on_id":"archive-list-ymc","type":"blocks","created_at":"2026-01-12T23:29:54.793581198-05:00","created_by":"rektide"}]}
{"id":"archive-list-c9c","title":"Integrate rate limiting into readme_get command","description":"Update readme_get command to use new rate-limited fetch_url method.\n\nTasks:\n- Change from get_readme() to fetch_url() for URL fetching\n- Handle rate limit errors with proper retry/backoff\n- Ensure directory structure creation still works on failures\n- Update error handling to surface rate limit issues clearly","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-12T23:29:44.811725401-05:00","created_by":"rektide","updated_at":"2026-01-12T23:29:44.811725401-05:00","dependencies":[{"issue_id":"archive-list-c9c","depends_on_id":"archive-list-ymc","type":"blocks","created_at":"2026-01-12T23:29:54.825839492-05:00","created_by":"rektide"}]}
{"id":"archive-list-ccc","title":"Provider System","description":"Implement provider trait with async detection and rate limiters for GitHub/GitLab/HuggingFace/Codeberg","acceptance_criteria":"- src/provider/mod.rs with Provider trait\n- Async detect(url) -\u003e Option\u003cBox\u003cdyn Provider\u003e\u003e\n- Async rate limiter per provider\n- GitHub implementation with rate limit headers\n- GitLab, HuggingFace, Codeberg implementations","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-12T21:33:55.427251847-05:00","created_by":"rektide","updated_at":"2026-01-12T22:21:38.196266129-05:00","closed_at":"2026-01-12T22:21:38.196266129-05:00","close_reason":"Completed"}
{"id":"archive-list-cdi","title":"Add position tracking","description":"Add position tracking as lines from bottom, integrate with reverse buffer reader","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:32.106137424-05:00","created_by":"rektide","updated_at":"2026-01-12T22:03:01.085551678-05:00","closed_at":"2026-01-12T22:03:01.085551678-05:00","close_reason":"Completed"}
{"id":"archive-list-dfd","title":"Clean up ProviderWrapper after direct integration","description":"Remove ProviderWrapper adapter once readme_get.rs uses ProviderFactory directly.\n\n**After completing \"Update readme_get.rs to use ProviderFactory directly\":**\n\nRemove from src/util/provider_selector.rs:\n- ProviderWrapper struct definition\n- detect_provider() function (move to read_me_get.rs or keep factory-only wrapper)\n\nUpdate imports and references in codebase.\n\nThis is cleanup work - the adapter served as compatibility layer during migration but is no longer needed once direct ProviderFactory integration is complete.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T03:52:26.011589965-05:00","created_by":"rektide","updated_at":"2026-01-13T04:37:16.519054688-05:00","closed_at":"2026-01-13T04:37:16.519054688-05:00","close_reason":"Closed via update"}
{"id":"archive-list-h4m","title":"Core rate limiting infrastructure","description":"Create the core data structures and utilities for token-aware rate limiting.\n\nTasks:\n- Create Token struct with: value, valid, remaining, limit, reset_at\n- Create RateLimiter struct with: tokens Vec, round-robin index, env_var_name\n- Implement common header decoder: convert to lowercase, strip leading \"x-\"\n- Add chrono dependency to Cargo.toml for timezone handling\n\nAll structures should support lazy initialization (start uninitialized).","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-12T23:29:17.935427553-05:00","created_by":"rektide","updated_at":"2026-01-12T23:29:17.935427553-05:00","dependencies":[{"issue_id":"archive-list-h4m","depends_on_id":"archive-list-ymc","type":"blocks","created_at":"2026-01-12T23:29:54.730182314-05:00","created_by":"rektide"}]}
{"id":"archive-list-i0i","title":"Add readme-get flags","description":"Add --top-down and --refresh flags to readme-get command. Already implemented in cli.rs:20-27","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:59.286059673-05:00","created_by":"rektide","updated_at":"2026-01-12T22:12:55.206038335-05:00","closed_at":"2026-01-12T22:12:55.206038335-05:00","close_reason":"Completed"}
{"id":"archive-list-lma","title":"Add rate limit validation","description":"Add is_ok() method to check against provider rate limits before allowing requests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:34.360140056-05:00","created_by":"rektide","updated_at":"2026-01-12T22:13:44.723590512-05:00","closed_at":"2026-01-12T22:13:44.723590512-05:00","close_reason":"Completed"}
{"id":"archive-list-o4k","title":"Config Management","description":"Implement config file management using directories and config crates","acceptance_criteria":"- src/config.rs module\n- Uses directories crate for config location\n- Uses config crate for config parsing\n- Stores lines_from_bottom position\n- Async writer updates every 2s","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-12T21:33:58.083173914-05:00","created_by":"rektide","updated_at":"2026-01-12T22:21:38.660594541-05:00","closed_at":"2026-01-12T22:21:38.660594541-05:00","close_reason":"Completed"}
{"id":"archive-list-q3s","title":"Implement HuggingFace provider","description":"Implement HuggingFace provider with async detection and rate limiting","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:57.873528202-05:00","created_by":"rektide","updated_at":"2026-01-12T22:11:30.688784487-05:00","closed_at":"2026-01-12T22:11:30.688784487-05:00","close_reason":"Completed"}
{"id":"archive-list-s9z","title":"Add async position sync to config","description":"Store lines_from_bottom position in config and set up async writer to update every 2s","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:36:13.480399769-05:00","created_by":"rektide","updated_at":"2026-01-12T22:21:00.99723029-05:00","closed_at":"2026-01-12T22:21:00.99723029-05:00","close_reason":"Completed"}
{"id":"archive-list-tyf","title":"Create source directory structure","description":"Create src/ directory structure: main.rs, cli.rs, commands/, provider/, util/","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T21:35:23.860760204-05:00","created_by":"rektide","updated_at":"2026-01-12T21:59:41.286614795-05:00","closed_at":"2026-01-12T21:59:41.286614795-05:00","close_reason":"Completed"}
{"id":"archive-list-yay","title":"Project Setup","description":"Set up basic Rust CLI scaffolding with dependencies and project structure","acceptance_criteria":"- Cargo.toml with all dependencies configured\n- Basic src/ directory structure created\n- CLI entry point with clap\n- README updated with installation instructions","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-12T21:33:51.766218241-05:00","created_by":"rektide","updated_at":"2026-01-12T22:21:19.926621396-05:00","closed_at":"2026-01-12T22:21:19.926621396-05:00","close_reason":"Completed"}
{"id":"archive-list-ymc","title":"Two-tier rate limiting","description":"Implement a comprehensive rate limiting system with header-based tracking and governor-based fast rate limiting.\n\nEpic ADR: doc/adr/0001-providers-and-rate-limits.md\n\nKey features:\n- Token-aware rate limiting with multiple tokens per provider\n- Header-based rate limit tracking (remaining, limit, reset_at)\n- Round-robin token rotation across available tokens\n- Common header decoder (lowercase, strip x- prefix)\n- Fast rate limiting with governor (per-second limit with velocity)\n- Timezone-aware reset timestamp handling\n- Lazy initialization","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-12T23:28:09.907847547-05:00","created_by":"rektide","updated_at":"2026-01-12T23:28:09.907847547-05:00"}
{"id":"archive-list-zu1","title":"Update Provider trait interface","description":"Rename methods and add new fetch_url method to Provider trait.\n\nTasks:\n- Rename get_readme() → get_readme_url() in trait\n- Add fetch_url() method to trait (makes authenticated request with rate limiting)\n- Update all existing providers to implement renamed get_readme_url()\n- Add chrono dependency if not already added","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-12T23:29:39.030224317-05:00","created_by":"rektide","updated_at":"2026-01-12T23:29:39.030224317-05:00","dependencies":[{"issue_id":"archive-list-zu1","depends_on_id":"archive-list-ymc","type":"blocks","created_at":"2026-01-12T23:29:54.77786447-05:00","created_by":"rektide"}]}
